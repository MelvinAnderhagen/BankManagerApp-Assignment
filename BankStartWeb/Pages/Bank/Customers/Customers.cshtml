@page
@model BankStartWeb.Pages.Bank.Customers.CustomersModel
@{
}


<div class="row">
<form class="col-9" method="get">
    <input class="h-75" placeholder="Search" asp-for="@Model.SearchString" />
    <input class="h-75" type="submit" value="Search" />
</form>
    <a class="btn btn-light col-3 mb-3" asp-page="/Bank/Customers/NewCustomer"><i class='bx bx-plus-circle'></i>Add new customer</a>
</div>
<div class="tbl-header">
    <table class="table" cellspacing="0" border="0" cellpadding="0">
        <thead>
        <tr>
            <th class="col-1">Id<a asp-route-searchString="@Model.SearchString" asp-route-order="asc" asp-route-col="id"><i class='bx bx-sort-down'></i></a>
                <a asp-route-searchString="@Model.SearchString" asp-route-order="desc" asp-route-col="id"><i class='bx bx-sort-up'></i></a>    
            </th>
            <th class="col-1">Givenname<a asp-route-searchString="@Model.SearchString" asp-route-order="asc" asp-route-col="givenname"> <i class='bx bx-sort-down'> </i></a>
                <a asp-route-searchString="@Model.SearchString" asp-route-order="desc" asp-route-col="givenname"> <i class='bx bx-sort-up'></i></a>    
            </th>
            <th class="col-1">Surname<a asp-route-searchString="@Model.SearchString" asp-route-order="asc" asp-route-col="surname"><i class='bx bx-sort-down'></i></a>
                <a asp-route-searchString="@Model.SearchString" asp-route-order="desc" asp-route-col="surname"><i class='bx bx-sort-up'></i></a>
            </th>
            <th class="col-1">Street<a asp-route-searchString="@Model.SearchString" asp-route-order="asc" asp-route-col="street"><i class='bx bx-sort-down' ></i></a>
                <a asp-route-searchString="@Model.SearchString" asp-route-order="desc" asp-route-col="street"><i class='bx bx-sort-up' ></i></a>    
            </th>
            <th class="col-1">City
                <a asp-route-searchString="@Model.SearchString" asp-route-order="asc" asp-route-col="city"><i class='bx bx-sort-down'></i></a>
                <a asp-route-searchString="@Model.SearchString" asp-route-order="desc" asp-route-col="city"><i class='bx bx-sort-up'></i></a>
            </th>
            <th class="col-1"></th>
        </tr>
        </thead>
    </table>
</div>
<div class="tbl-content">
    <table>
    <tbody>
    @foreach (var customer in @Model.customers)
    {
        <tr>
            <td><a asp-page="/Bank/Customer/Customer" asp-route-customerId="@customer.Id">@customer.Id</a></td>
            <td>@customer.Givenname</td>
            <td>@customer.Surname</td>
            <td>@customer.Streetaddress</td>
            <td>@customer.City</td>
            <td><a asp-page="/Bank/Customers/EditCustomer" asp-route-customerId="@customer.Id">Edit</a></td>
        </tr>
    }
    </tbody>

    <tr>
        <td>
            @if (@Model.PageNo > 1)
            {
                <a asp-page="/Bank/Customers/Customers" asp-route-order="@Model.SortOrder" asp-route-col="@Model.SortCol" asp-route-search="@Model.SearchString" asp-route-pageno="@(Model.PageNo-1)">Prev</a>
            }
        </td>
        <td></td>
        <td><a asp-page="/Bank/Customers/Customers" asp-route-order="@Model.SortOrder" asp-route-col="@Model.SortCol" asp-route-searchString="@Model.SearchString" asp-route-pageno="@(Model.PageNo+1)">Next</a></td>
    </tr>
</table>
</div>